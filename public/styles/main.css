/**
 * ==========================================
 * MAIN CSS - AgendaEstética v2
 * 
 * Este é o arquivo principal que importa
 * todos os módulos CSS na ordem correta.
 * 
 * Ordem de carregamento:
 * 1. reset - Normalização
 * 2. tokens - Design system (inclui todos os temas)
 * 3. base - Estilos base
 * 4. layout - Estrutura
 * 5. components - Componentes UI
 * 6. utilities - Classes utilitárias
 * 
 * ==========================================
 */

/* 1. Reset e Normalização */
@import url('./v2/reset.css');

/* 2. Tokens - Design System (inclui todos os temas: neo, dark, wood, premium) */
@import url('./v2/tokens.css');

/* 3. Estilos Base */
@import url('./v2/base.css');

/* 4. Layout */
@import url('./v2/layout.css');

/* 5. Componentes */
@import url('./v2/components.css');

/* 6. Utilitários */
@import url('./v2/utilities.css');

/* ==========================================
 * ESTILOS ADICIONAIS DO PROJETO
 * Adicione estilos específicos do projeto aqui
 * que não se encaixam nos módulos acima.
 * ========================================== */

/* Marca d'água - Free vs Premium */
.marca-dagua {
    position: fixed;
    bottom: var(--spacing-4);
    right: var(--spacing-4);
    font-size: var(--text-xs);
    color: var(--color-text-tertiary);
    opacity: 0.5;
    z-index: 9999;
    pointer-events: none;
    text-align: right;
    line-height: 1.4;
}

.marca-dagua a {
    color: inherit;
    text-decoration: underline;
}

body.premium .marca-dagua,
.premium .marca-dagua {
    display: none !important;
}

body.free .marca-dagua,
.free .marca-dagua {
    display: block;
}

/* Wrapper para evitar overflow horizontal */
#app {
    overflow-x: hidden;
    min-height: 100vh;
}

/* Loading screen do app */
.loading-screen {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    background-color: var(--color-bg);
}

.loading-screen .loading-spinner {
    width: 48px;
    height: 48px;
    border: 4px solid var(--color-border);
    border-top-color: var(--color-primary);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-bottom: var(--spacing-4);
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* Error page */
.error-page {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    padding: var(--spacing-4);
    text-align: center;
}

.error-page h1 {
    font-size: var(--text-3xl);
    color: var(--color-danger);
    margin-bottom: var(--spacing-4);
}

/* Print styles */
@media print {
    .app-nav,
    .app-header,
    .marca-dagua,
    .no-print {
        display: none !important;
    }
    
    .app-main {
        margin: 0;
        padding: 0;
    }
    
    body {
        background: white;
        color: black;
    }
}

/* ==========================================
 * ESTILOS ADICIONAIS - PÁGINAS
 * Classes específicas para páginas refatoradas
 * ========================================== */

/* ---------- Page Header ---------- */
.page-header {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-2);
    margin-bottom: var(--spacing-6);
}

.page-header__content {
    flex: 1;
}

.page-header__title {
    font-size: var(--text-2xl);
    font-weight: var(--font-bold);
    color: var(--color-text-primary);
    margin: 0;
}

.page-header__subtitle {
    font-size: var(--text-sm);
    color: var(--color-text-secondary);
    margin: var(--spacing-1) 0 0 0;
}

.page-header .btn {
    align-self: flex-start;
}

/* ---------- Stats Grid ---------- */
.stats-section {
    margin-bottom: var(--spacing-6);
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--spacing-4);
}

@media (max-width: 640px) {
    .stats-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 400px) {
    .stats-grid {
        grid-template-columns: 1fr;
    }
}

/* ---------- Chart Card ---------- */
.charts-section {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: var(--spacing-5);
    margin-bottom: var(--spacing-6);
}

@media (max-width: 768px) {
    .charts-section {
        grid-template-columns: 1fr;
    }
}

.chart-card {
    background-color: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-xl);
    padding: var(--spacing-5);
}

.chart-card__title {
    font-size: var(--text-base);
    font-weight: var(--font-semibold);
    color: var(--color-text-primary);
    margin: 0 0 var(--spacing-4) 0;
}

/* ---------- Filters ---------- */
.filters-section {
    margin-bottom: var(--spacing-6);
}

.filters-form {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-4);
}

.filters-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: var(--spacing-4);
    align-items: flex-end;
}

@media (max-width: 640px) {
    .filters-grid {
        grid-template-columns: 1fr;
    }
}

.filters-actions {
    display: flex;
    gap: var(--spacing-3);
    align-items: flex-end;
}

@media (max-width: 640px) {
    .filters-actions {
        flex-direction: column;
    }
    
    .filters-actions .btn {
        width: 100%;
    }
}

/* ---------- List Section ---------- */
.list-section {
    background-color: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-xl);
    padding: var(--spacing-5);
}

.list-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--spacing-4);
    padding-bottom: var(--spacing-4);
    border-bottom: 1px solid var(--color-border);
}

.list-header__title {
    font-size: var(--text-base);
    font-weight: var(--font-semibold);
    color: var(--color-text-primary);
    margin: 0;
}

/* ---------- Agendamentos List ---------- */
.agendamentos-list {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-4);
}

.agendamentos-section {
    display: block;
}

.agendamentos-section.d-none {
    display: none;
}

/* ---------- Professional Header (Pagina Cliente) ---------- */
.profissional-header {
    text-align: center;
    padding: var(--spacing-6) var(--spacing-4);
}

.profissional-banner {
    width: 100px;
    height: 100px;
    border-radius: var(--radius-full);
    background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
    margin: 0 auto var(--spacing-4);
    display: flex;
    align-items: center;
    justify-content: center;
}

.profissional-banner__placeholder {
    font-size: var(--text-3xl);
    color: white;
    font-weight: var(--font-bold);
}

.profissional-nome {
    font-size: var(--text-xl);
    font-weight: var(--font-bold);
    color: var(--color-text-primary);
    margin: 0;
}

.profissional-profissao {
    font-size: var(--text-sm);
    color: var(--color-text-secondary);
    margin: var(--spacing-2) 0 0 0;
}

/* ---------- Agendar Container ---------- */
.agendar-container {
    max-width: 600px;
    margin: 0 auto;
    padding: var(--spacing-4);
}

.agendar-card {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-4);
}

.agendar-header {
    text-align: center;
    margin-bottom: var(--spacing-2);
}

.agendar-title {
    font-size: var(--text-xl);
    font-weight: var(--font-bold);
    color: var(--color-text-primary);
    margin: 0;
}

.passo-servico,
.passo-email,
.passo-data {
    margin-bottom: 0;
}

.slots-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
    gap: var(--spacing-3);
    margin-top: var(--spacing-4);
}

.slot-item {
    padding: var(--spacing-3);
    background-color: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    text-align: center;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.slot-item:hover {
    border-color: var(--color-primary);
    background-color: var(--color-primary-bg);
}

.slot-item.selected {
    border-color: var(--color-primary);
    background-color: var(--color-primary);
    color: white;
}

/* ---------- Push Settings ---------- */
.push-settings {
    margin-bottom: var(--spacing-4);
}

.push-settings-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--spacing-2);
}

/* Toggle Switch */
.toggle {
    position: relative;
    display: inline-block;
    width: 48px;
    height: 26px;
}

.toggle input {
    opacity: 0;
    width: 0;
    height: 0;
}

.toggle__slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--color-border);
    transition: var(--transition-fast);
    border-radius: var(--radius-full);
}

.toggle__slider:before {
    position: absolute;
    content: "";
    height: 20px;
    width: 20px;
    left: 3px;
    bottom: 3px;
    background-color: white;
    transition: var(--transition-fast);
    border-radius: 50%;
}

.toggle input:checked + .toggle__slider {
    background-color: var(--color-primary);
}

.toggle input:checked + .toggle__slider:before {
    transform: translateX(22px);
}

.toggle input:focus + .toggle__slider {
    box-shadow: 0 0 0 3px var(--color-focus-ring);
}

/* ---------- Seções da Página Cliente ---------- */
.secao-agendamento,
.secao-historico,
.secao-cursos,
.secao-perfil {
    margin-bottom: var(--spacing-6);
}

.secao-titulo {
    font-size: var(--text-lg);
    font-weight: var(--font-semibold);
    color: var(--color-text-primary);
    margin: 0 0 var(--spacing-4) 0;
}

/* ---------- Agendamento Card ---------- */
.agendamento-card {
    margin-bottom: var(--spacing-4);
}

.agendamento-info {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-2);
}

.agendamento-data-hora {
    font-size: var(--text-lg);
    font-weight: var(--font-semibold);
    color: var(--color-text-primary);
    margin: 0;
}

.agendamento-servico {
    font-size: var(--text-sm);
    margin: 0;
}

.agendamento-acoes {
    display: flex;
    gap: var(--spacing-3);
    flex-wrap: wrap;
}

/* ---------- Histórico ---------- */
.historico-lista {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-3);
}

.historico-item {
    padding: var(--spacing-4);
    background-color: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
}

.historico-data {
    font-weight: var(--font-medium);
    color: var(--color-text-primary);
}

.historico-servico {
    font-size: var(--text-sm);
    color: var(--color-text-secondary);
}

/* ---------- Perfil Card ---------- */
.perfil-card {
    margin-top: var(--spacing-4);
}

.perfil-item {
    display: flex;
    justify-content: space-between;
    padding: var(--spacing-3) 0;
    border-bottom: 1px solid var(--color-border);
}

.perfil-item:last-of-type {
    border-bottom: none;
}

.perfil-label {
    color: var(--color-text-secondary);
    font-size: var(--text-sm);
}

.perfil-valor {
    color: var(--color-text-primary);
    font-weight: var(--font-medium);
}

/* ---------- Empty State ---------- */
.sem-agendamento {
    padding: var(--spacing-8) var(--spacing-4);
}

/* ---------- Auth Page ---------- */
.auth-page {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--spacing-4);
    background-color: var(--color-bg);
}

.auth-card {
    width: 100%;
    max-width: 420px;
    background-color: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-xl);
    padding: var(--spacing-6);
}

.auth-card__header {
    text-align: center;
    margin-bottom: var(--spacing-6);
}

.auth-card__logo {
    font-size: 3rem;
    margin-bottom: var(--spacing-2);
}

.auth-card__title {
    font-size: var(--text-xl);
    font-weight: var(--font-bold);
    color: var(--color-text-primary);
    margin: 0;
}

.auth-card__subtitle {
    font-size: var(--text-sm);
    color: var(--color-text-secondary);
    margin: var(--spacing-2) 0 0 0;
}

.auth-card__footer {
    text-align: center;
    margin-top: var(--spacing-4);
    padding-top: var(--spacing-4);
    border-top: 1px solid var(--color-border);
}

.auth-form {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-4);
}

.auth-step {
    display: block;
}

.auth-step.d-none {
    display: none;
}

/* ---------- Agenda Page ---------- */
.agenda-container {
    max-width: 800px;
    margin: 0 auto;
    padding: var(--spacing-4);
}

.agenda-form {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-5);
}

.form-fieldset {
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--spacing-4);
    margin: 0;
}

.form-legend {
    font-size: var(--text-sm);
    font-weight: var(--font-medium);
    color: var(--color-text-secondary);
    padding: 0 var(--spacing-2);
}

.dias-checkboxes {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-3);
    margin-top: var(--spacing-2);
}

.dias-checkboxes .form-check {
    flex: 1;
    min-width: 80px;
}

.form-row {
    display: flex;
    gap: var(--spacing-4);
}

@media (max-width: 640px) {
    .form-row {
        flex-direction: column;
    }
}

.form-actions {
    display: flex;
    gap: var(--spacing-3);
}

/* ---------- Bloqueios ---------- */
.bloqueio-form {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-4);
}

.slots-preview {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-4);
}

.slots-container {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-2);
}

/* ---------- Clientes Page ---------- */
.clientes-container {
    max-width: 800px;
    margin: 0 auto;
    padding: var(--spacing-4);
}

.clientes-list {
    min-height: 200px;
}

.cliente-detalhes {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-3);
}

/* ---------- Notificacoes Page ---------- */
.notificacoes-container {
    max-width: 800px;
    margin: 0 auto;
    padding: var(--spacing-4);
}

.notificacoes-list {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-3);
}

.notificacao-item {
    display: flex;
    gap: var(--spacing-3);
    padding: var(--spacing-4);
    background-color: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.notificacao-item:hover {
    border-color: var(--color-primary);
}

.notificacao-item.unread {
    background-color: var(--color-primary-bg);
    border-left: 3px solid var(--color-primary);
}

.notificacao-icon {
    font-size: var(--text-xl);
    flex-shrink: 0;
}

.notificacao-content {
    flex: 1;
}

.notificacao-titulo {
    font-weight: var(--font-medium);
    color: var(--color-text-primary);
    margin: 0 0 var(--spacing-1) 0;
}

.notificacao-mensagem {
    font-size: var(--text-sm);
    color: var(--color-text-secondary);
    margin: 0;
}

.notificacao-data {
    font-size: var(--text-xs);
    color: var(--color-text-tertiary);
    margin-top: var(--spacing-1);
}

/* ---------- Loading State ---------- */
.loading-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: var(--spacing-8);
    text-align: center;
    color: var(--color-text-secondary);
}

.loading-state p {
    margin-top: var(--spacing-3);
}

/* ---------- Back Link ---------- */
.back-link {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-2);
    text-decoration: none;
    color: var(--color-text-secondary);
    font-size: var(--text-sm);
    margin-bottom: var(--spacing-2);
    transition: color var(--transition-fast);
}

.back-link:hover {
    color: var(--color-primary);
}

/* ---------- Utility Additions ---------- */
.mt-2 { margin-top: var(--spacing-2); }
.mt-3 { margin-top: var(--spacing-3); }
.mt-4 { margin-top: var(--spacing-4); }
.mb-2 { margin-bottom: var(--spacing-2); }
.mb-3 { margin-bottom: var(--spacing-3); }
.mb-4 { margin-bottom: var(--spacing-4); }
.ml-2 { margin-left: var(--spacing-2); }
.mr-2 { margin-right: var(--spacing-2); }

/* Text utilities */
.text-sm { font-size: var(--text-sm); }
.text-lg { font-size: var(--text-lg); }

/* Full width */
.w-full { width: 100%; }

